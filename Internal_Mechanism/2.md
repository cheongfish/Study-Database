# 행 기반(DBMS)과 열 기반(DBMS)의 이해

데이터베이스는 **데이터를 디스크에 저장하는 방식**에 따라 크게 두 가지로 나뉨:
1. **행 기반 데이터베이스** (Row-Oriented Database)
2. **열 기반 데이터베이스** (Column-Oriented Database)

이 두 가지 방식은 각각의 장단점을 가지며, 완벽한 방식은 없음. 사용 사례에 따라 적합한 방법을 선택해야 함. 아래는 두 가지 저장 방식의 특징과 작동 방식을 이해하기 위한 설명임.

---

## 1. 행 기반 데이터베이스
### 저장 방식  
- 데이터는 **행 단위**로 디스크에 연속적으로 저장됨.  
  예: `ID, 이름, 성, 주민번호, 급여`가 한 행을 구성하며, 디스크에서 같은 블록에 저장됨.  

### 특징  
- **효율적인 트랜잭션 처리**  
  특정 행을 조회하거나 변경할 때 필요한 데이터는 한 번의 디스크 읽기(I/O)로 메모리에 로드됨.  
  예: 특정 직원의 모든 정보를 조회하는 쿼리(`SELECT * FROM employee WHERE ID = 1`)가 빠름.  
- **모든 열 로드**  
  행 단위로 저장되므로, 특정 열만 필요해도 행의 모든 데이터를 읽어야 하는 비효율이 발생함.  
  예: 급여 총합을 계산하는 쿼리(`SELECT SUM(salary) FROM employee`)에서 모든 행의 데이터를 읽게 됨.  

### 장점  
- 트랜잭션 처리(INSERT, UPDATE, DELETE)가 많고, 전체 행 단위로 데이터를 자주 읽는 **OLTP(Online Transaction Processing)** 환경에 적합함.  
- 구조가 단순하여 구현과 사용이 쉬움.  

### 단점  
- 집계 연산과 같은 분석 작업에서는 불필요한 열 데이터까지 로드해야 하므로 효율성이 떨어질 수 있음.

---

## 2. 열 기반 데이터베이스
### 저장 방식  
- 데이터는 **열 단위**로 디스크에 저장됨.  
  예: `ID 열`, `이름 열`, `성 열`, `주민번호 열`, `급여 열`이 별도의 블록에 저장됨.  

### 특징  
- **효율적인 데이터 분석**  
  특정 열만 선택하는 쿼리에서 매우 적은 디스크 I/O로 필요한 데이터만 로드할 수 있음.  
  예: 급여 총합 계산(`SELECT SUM(salary) FROM employee`) 시 급여 열만 읽음.  
- **압축 및 집계 효율성**  
  같은 열의 데이터는 유사성이 높아 효율적인 압축과 빠른 집계 연산이 가능함.  
  예: 여러 직원의 급여가 동일하다면, 데이터베이스는 이를 하나로 묶어 저장하고 연산 속도를 높임.  

### 장점  
- 데이터 분석, 보고서 생성, OLAP(Online Analytical Processing) 환경에 적합함.  
- 특정 열만을 대상으로 하는 쿼리에서 뛰어난 성능을 발휘함.  

### 단점  
- 행 단위 데이터 삽입/수정이 어렵고 느림.  
- 모든 열을 요청하는 경우, 여러 열을 각각 로드해야 하므로 디스크 I/O가 증가할 수 있음.  

---

## **사용 사례로 비교**
### 행 기반의 사용 사례  
- 온라인 쇼핑몰에서 고객의 주문 처리, 결제 기록 저장 등 트랜잭션이 빈번한 작업에 적합함.  
- `SELECT * FROM orders WHERE order_id = 123`와 같이 한 행의 모든 데이터를 읽는 작업이 많음.

### 열 기반의 사용 사례  
- 데이터 분석에서 매출 데이터, 고객 행동 데이터를 집계하여 보고서를 생성하는 작업에 적합함.  
- `SELECT SUM(sales) FROM transactions WHERE region = 'North'`와 같이 특정 열을 대상으로 집계 작업 수행.

---

## **행 기반과 열 기반의 장단점 요약**

| 구분                | 행 기반(DBMS)                          | 열 기반(DBMS)                         |
|---------------------|----------------------------------------|----------------------------------------|
| **읽기 속도**       | 특정 행의 모든 열을 읽는 데 최적화됨.    | 특정 열만 읽는 작업에 최적화됨.        |
| **쓰기 속도**       | 단순하고 빠름.                         | 구조 업데이트 필요로 느림.             |
| **트랜잭션 처리**   | 효율적, OLTP 환경에 적합함.              | 비효율적임.                             |
| **데이터 분석**     | 비효율적, 전체 데이터를 스캔해야 함.    | 효율적, 필요한 열만 읽음.              |
| **압축 효율성**     | 낮음.                                 | 높음(같은 열 데이터의 중복성 활용).    |
| **사용 환경**       | OLTP: 주문 처리, 사용자 관리 등.        | OLAP: 데이터 웨어하우스, 분석 작업 등. |

---

## 결론
행 기반과 열 기반 데이터베이스는 각각 고유한 장단점을 가지고 있음.  
- **트랜잭션 중심 작업**에서는 **행 기반**이 적합하고,  
- **데이터 분석 중심 작업**에서는 **열 기반**이 더 적합함.  

필요에 따라 두 방식을 혼합하여 사용하는 것도 가능함. 예를 들어, 트랜잭션 처리를 행 기반으로 하고, 분석 데이터를 열 기반으로 저장하는 방식이 있음.  

데이터베이스 선택은 **작업의 특성**과 **요구 사항**에 따라 결정해야 함.
